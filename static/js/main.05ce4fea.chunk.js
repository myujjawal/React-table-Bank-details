(this["webpackJsonpbank-table"]=this["webpackJsonpbank-table"]||[]).push([[0],{16:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(9),o=n.n(r),s=(n(16),n(8)),i=n(10),l=n(1),j=n(11),d=n(4),u=(n(7),n(0)),b=function(e){var t=e.filter,n=e.setFilter;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"Head",children:Object(u.jsxs)("span",{className:"Top",children:["Search: ","",Object(u.jsx)("input",{value:t||"",onChange:function(e){return n(e.target.value)}})]})})})},g=a.a.forwardRef((function(e,t){var n=e.indeterminate,c=Object(j.a)(e,["indeterminate"]),r=a.a.useRef(),o=t||r;return a.a.useEffect((function(){o.current.indeterminate=n}),[o,n]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("input",Object(l.a)({type:"checkbox",ref:o},c))})})),O={},h=JSON.parse(window.localStorage.getItem("Fav"))||{},p=window.localStorage.getItem("changeInSelection");function f(e){var t=e.columns,n=e.data,c=e.city,a=h[c];console.log(a);var r=Object(d.useTable)({columns:t,data:n,initialState:{selectedRowIds:a||{}}},d.useGlobalFilter,d.usePagination,d.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllPageRowsSelectedProps;return Object(u.jsxs)("div",{children:["Favourite",Object(u.jsx)(g,Object(l.a)({},t()))]})},Cell:function(e){var t=e.row;return Object(u.jsx)("div",{children:Object(u.jsx)(g,Object(l.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(i.a)(e))}))})),o=r.getTableProps,s=r.getTableBodyProps,j=r.headerGroups,f=r.page,x=r.canPreviousPage,m=r.canNextPage,v=r.pageOptions,w=r.pageCount,y=r.gotoPage,S=r.nextPage,C=r.previousPage,P=r.setPageSize,I=r.selectedFlatRows,k=r.state,F=k.globalFilter,N=k.pageIndex,H=k.pageSize,A=k.selectedRowIds,R=r.setGlobalFilter,B=r.prepareRow;try{p==Object.keys(A).length&&(O[I[0].original.city]=A),console.log(c===I[0].original.city,"hey",A,O),window.localStorage.setItem("changeInSelection",JSON.stringify(Object.keys(A).length)),window.localStorage.setItem("Fav",JSON.stringify(O))}catch(T){}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{filter:F,setFilter:R}),Object(u.jsxs)("table",Object(l.a)(Object(l.a)({},o()),{},{children:[Object(u.jsx)("thead",{children:j.map((function(e){return Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(l.a)(Object(l.a)({},s()),{},{children:f.map((function(e,t){return B(e),Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(u.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(u.jsxs)("div",{className:"pagination",children:[Object(u.jsx)("button",{onClick:function(){return y(0)},disabled:!x,children:"<<"})," ",Object(u.jsx)("button",{onClick:function(){return C()},disabled:!x,children:"<"})," ",Object(u.jsx)("button",{onClick:function(){return S()},disabled:!m,children:">"})," ",Object(u.jsx)("button",{onClick:function(){return y(w-1)},disabled:!m,children:">>"})," ",Object(u.jsxs)("span",{children:["Page"," ",Object(u.jsxs)("strong",{children:[N+1," of ",v.length]})," "]}),Object(u.jsxs)("span",{children:["| Go to page:"," ",Object(u.jsx)("input",{type:"number",defaultValue:N+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;y(t)},style:{width:"100px"}})]})," ",Object(u.jsx)("select",{value:H,onChange:function(e){P(Number(e.target.value))},children:[5,10,20,30,40,50].map((function(e){return Object(u.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})}console.log(p),n(21).polyfill(),n(24);var x={};function m(){var e=Object(c.useState)(window.localStorage.getItem("city")||"MUMBAI"),t=Object(s.a)(e,2),n=t[0],a=t[1],r=JSON.parse(window.localStorage.getItem("cityCache"))||{};console.log("getcachecC",r),x=r,console.log("citydata",r[n]);var o=r[n]||[],i=Object(c.useState)(o),l=Object(s.a)(i,2),j=l[0],d=l[1];Object(c.useEffect)((function(){fetch("https://vast-shore-74260.herokuapp.com/banks?city="+n).then((function(e){return e.json()})).then((function(e){d(e),window.localStorage.setItem("data",JSON.stringify(e)),x[n]=e,console.log("setCache",x),window.localStorage.setItem("cityCache",JSON.stringify(x))}))}),[n]);var b=Object(c.useMemo)((function(){return[{Header:"IFSC",accessor:"ifsc"},{Header:"Bank ID",accessor:"bank_id"},{Header:"Branch",accessor:"branch"},{Header:"Address",accessor:"address"},{Header:"City",accessor:"city"},{Header:"District",accessor:"district"},{Header:"State",accessor:"state"},{Header:"Bank Name",accessor:"bank_name"}]}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"top",children:[Object(u.jsx)("h1",{children:"Bank Searches"}),Object(u.jsx)("label",{for:"city",children:"Choose a City: "}),Object(u.jsxs)("select",{onChange:function(e){return a(e.target.value)},name:"city",id:"city",children:[Object(u.jsx)("option",{value:"MUMBAI",children:"Mumbai"}),Object(u.jsx)("option",{value:"BANGALORE",children:"Bangalore"}),Object(u.jsx)("option",{value:"DELHI",children:"Delhi"}),Object(u.jsx)("option",{value:"PATNA",children:"Patna"}),Object(u.jsx)("option",{value:"AGARTALA",children:"Agartala"})]})]}),Object(u.jsx)(f,{columns:b,data:j,city:n})]})}var v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(u.jsx)(m,{}),document.getElementById("root")),v()},7:function(e,t,n){}},[[26,1,2]]]);
//# sourceMappingURL=main.05ce4fea.chunk.js.map